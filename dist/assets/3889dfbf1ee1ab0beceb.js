import"../index.html";import"../pages/index.css";let newCardsArray=[];const carouselTrackElement=document.querySelector(".carousel__track"),carouselContainerElement=document.querySelector(".carousel__container"),prevBtnElement=document.querySelector(".carousel__btn_direction_left"),nextBtnElement=document.querySelector(".carousel__btn_direction_right"),cardsSection=document.querySelector(".cards"),initialCardsElements=cardsSection.querySelectorAll(".card"),cardTitleElements=cardsSection.querySelectorAll(".card__heading"),cardOneLineTitleElements=cardsSection.querySelectorAll(".card__heading_num-of-lines_one"),cardTextElements=cardsSection.querySelectorAll(".card__text");let screenWidth=document.documentElement.clientWidth;const changeNumberOfSymbolsTitle=function(){if(screenWidth<=767&&screenWidth>=576)for(let e=0;e<cardTitleElements.length;e++)cardTitleElements[e].innerHTML=cardTitleElements[e].textContent.slice(0,25)+"&nbsp;"+cardTitleElements[e].textContent.slice(26,67)+"&nbsp;"+cardTitleElements[e].textContent.slice(68,72);else if(screenWidth>=768&&screenWidth<=1199)for(let e=0;e<cardTitleElements.length;e++)cardTitleElements[e].textContent=cardTitleElements[e].textContent.slice(0,42);else if(screenWidth>=1200){for(let e=0;e<cardTitleElements.length;e++)cardTitleElements[e].textContent=cardTitleElements[e].textContent.slice(0,42);for(let e=0;e<cardOneLineTitleElements.length;e++)cardOneLineTitleElements[e].innerHTML=cardOneLineTitleElements[e].textContent.slice(0,25)}};changeNumberOfSymbolsTitle();const changeNumberOfSymbolsText=function(){if(screenWidth<=767&&screenWidth>=576)for(let e=0;e<cardTextElements.length;e++)cardTextElements[e].textContent=cardTextElements[e].textContent.slice(0,61)+"...";else if(screenWidth>=1200)for(let e=0;e<cardTextElements.length;e++)cardTextElements[e].textContent=cardTextElements[e].textContent.slice(0,84)};changeNumberOfSymbolsText();for(let e=0;e<initialCardsElements.length;e++)newCardsArray.push(initialCardsElements[e]);const copyCard=function(e){const t=e.cloneNode(!0);return screenWidth>=1200&&t.classList.remove("card_hide-on-big-screen"),t},addCard=function(e){carouselTrackElement.append(copyCard(e))};newCardsArray.forEach((e=>{addCard(e)}));const cardElement=carouselTrackElement.querySelector(".card"),cardElements=carouselContainerElement.querySelectorAll(".card");let stepWidth=cardElement.offsetWidth+parseInt(window.getComputedStyle(carouselTrackElement).gap),stepCount=1,position=0;const showCurrentSlide=function(){position+=stepWidth*stepCount,position=Math.min(position,0),carouselTrackElement.style.marginLeft=position+"px"},maxDisplacement=-(cardElement.offsetWidth*cardElements.length+parseInt(window.getComputedStyle(carouselTrackElement).gap)*(cardElements.length-1))+carouselTrackElement.offsetWidth,showNextSlide=function(){position<=maxDisplacement||(position-=stepWidth*stepCount,position=Math.max(position,-stepWidth*(cardElements.length-stepCount))),carouselTrackElement.style.marginLeft=position+"px"};prevBtnElement.addEventListener("click",(()=>(position+=stepWidth*stepCount,position=Math.min(position,0),void(carouselTrackElement.style.marginLeft=position+"px")))),nextBtnElement.addEventListener("click",(()=>(position<=maxDisplacement||(position-=stepWidth*stepCount,position=Math.max(position,-stepWidth*(cardElements.length-stepCount))),void(carouselTrackElement.style.marginLeft=position+"px"))));